# Ecomerce CMS Server
This app has : 
* RESTful endpoint for Ecomerce CMS Server
* JSON formatted response

&nbsp;

## Endpoints for User
### POST /login

> Post User Login

_Request Body_
```
{
    "email": "admin@gmail.com",
    "password": "iniadmin"
}
```

_Response (200 - OK)_
```
{
    "access_token": "<generated by system>"
}
```
_Response (400 Bad) Request_
```
{
    "message": [
        "Email must be filled",
        "Email not valid",
        "Password must be filled"
    ]
}
```

_Response (401 Bad - Unautorized)_
```
{
    "message": [
        "Email not registered",
        "Invalid Email/password"
    ]
}
```
_Response (500 - Bad Request)_
```
{
  "message": "Internal Server Error"
}
```

## Endpoints for Products
### GET /products

> Get all task list

_Request Headers_
```
{
  "access_token": "<user access token>"
}
```

_Request Body_
```
not needed
```

_Response (200 - OK)_
```
[
  {
    "id": 22,
    "name": "Adidas Runner",
    "image_url": "https://picsum.photos/seed/picsum/200/300",
    "price": 1000000,
    "stock": 12,
    "description": "Lorem ipsum dolor sit amet",
    "UserId": 1,
    "CategoryId": 1,
    "createdAt": "2021-01-23T04:25:00.610Z",
    "updatedAt": "2021-01-23T05:33:50.194Z",
    "Category": {
      "id": 1,
      "name": "sepatu",
      "UserId": 1,
      "createdAt": "2021-01-23T05:33:43.662Z",
      "updatedAt": "2021-01-23T05:33:43.662Z"
    }
  }
]
```
_Response (400 - Bad Request)_
```
{
  "message": [
    "jwt must be provided"
  ]
}
```
_Response (500 - Bad Request)_
```
{
  "message": "Internal Server Error"
}
```
---
### POST /products

> Create new task

_Request Headers_
```
{
  "access_token": "<user access token>"
}
```

_Request Body_
```
{
  "name": "Nike",
  "image_url": "https://assets.adidas.com/images.jpg",
  "price": 100000,
  "stock": 10,
  "description": "Sepatu terbaik pokoknya",
  "CategoryId": 18
}
```

_Response (201 - Created)_
```
{
  "id": 26,
  "name": "Nike",
  "image_url": "https://assets.adidas.com/images.jpg",
  "price": 100000,
  "stock": 10,
  "description": "Sepatu terbaik pokoknya",
  "CategoryId": 18,
  "UserId": 1,
  "updatedAt": "2021-01-23T07:12:28.569Z",
  "createdAt": "2021-01-23T07:12:28.569Z"
}
```

_Response (400 - Bad Request)_
```
{
  "message": [
    "jwt must be provided",
    "Name must be filled",
    "Image url must be filled",
    "Price must be filled",
    "Price must be filled by number",
    "Price must greater than equal 0",
    "Stock must greater than equal 0",
    "Stock must be filled",
    "Stock must be filled by absolute number",
    "Category must be filled"
  ]
}
```
_Response (401 - Unauthorized)_
```
{
  "message": "User not authorized"
}
```
_Response (500 - Bad Request)_
```
{
  "message": "Internal Server Error"
}
```
---
### GET /products/:id

> Get task by id

_Request Headers_
```
{
  "access_token": "<user access token>"
}
```

_Request Params_
```
id = [integer]
```

_Response (200 - OK)_
```
{
  "id": 26,
  "name": "Nike",
  "image_url": "https://assets.adidas.com/images/w_320,f_auto,q_auto:sensitive,fl_lossy/69721f2e7c934d909168a80e00818569_9366/Stan_Smith_Shoes_White_M20324_01_standard.jpg",
  "price": 100000,
  "stock": 10,
  "description": "Sepatu terbaik pokoknya",
  "UserId": 1,
  "CategoryId": 18,
  "createdAt": "2021-01-23T07:12:28.569Z",
  "updatedAt": "2021-01-23T07:12:28.569Z",
  "Category": {
    "id": 18,
    "name": "adas",
    "UserId": 1,
    "createdAt": "2021-01-23T05:33:43.662Z",
    "updatedAt": "2021-01-23T05:33:43.662Z"
  }
}
```
_Response (400 - Bad Request)_
```
{
  "message": [
    "jwt must be provided"
  ]
}
```
_Response (401 - Unauthorized)_
```
{
  "message": "User not authorized"
}
```
_Response (404 - Not Found)_
```
{
  "message": "Data not found"
}
```
_Response (500 - Bad Request)_
```
{
  "message": "Internal Server Error"
}
```
---
### PUT /products/:id

> Edit task value

_Request Headers_
```
{
  "access_token": "<user access token>"
}
```

_Request Params_
```
id = [integer]
```
_Request Body_
```
{
  "name": "Adidas",
  "image_url": "https://assets.adidas.com/images/w_320,f_auto,q_auto:sensitive,fl_lossy/69721f2e7c934d909168a80e00818569_9366/Stan_Smith_Shoes_White_M20324_01_standard.jpg",
  "price": 3000000,
  "stock": 12,
  "description": "Ini ternyata sepatu adidas",
  "CategoryId": 18
}
```

_Response (200 - OK)_
```
{
    "id": 26,
    "name": "Adidas",
    "image_url": "https://assets.adidas.com/images/w_320,f_auto,q_auto:sensitive,fl_lossy/69721f2e7c934d909168a80e00818569_9366/Stan_Smith_Shoes_White_M20324_01_standard.jpg",
    "price": 3000000,
    "stock": 12,
    "description": "Ini ternyata sepatu adidas",
    "UserId": 1,
    "CategoryId": 18,
    "createdAt": "2021-01-23T07:12:28.569Z",
    "updatedAt": "2021-01-23T07:22:23.113Z"
}
```
_Response (401 - Unauthorized)_
```
{
  "message": "User not authorized"
}
```

_Response (400 - Bad Request)_
```
{
  "message": [
    "jwt must be provided",
    "Name must be filled",
    "Image url must be filled",
    "Price must be filled",
    "Price must be filled by number",
    "Price must greater than equal 0",
    "Stock must greater than equal 0",
    "Stock must be filled",
    "Stock must be filled by absolute number",
    "Category must be filled"
  ]
}
```
_Response (404 - Not Found)_
```
{
  "message": "Data not found"
}
```
_Response (500 - Bad Request)_
```
{
  "message": "Internal Server Error"
}
```
---
### DELETE /products/:id

> Delete task

_Request Headers_
```
{
  "access_token": "<user access token>"
}
```

_Request Params_
```
id = [integer]
```
_Request Body_
```
not needed
```

_Response (200 - OK)_
```
{
  message: "Success delete product"
}
```
_Response (400 - Bad Request)_
```
{
  "message": [
    "jwt must be provided"
  ]
}
```
_Response (401 - Unauthorized)_
```
{
  "message": "User not authorized"
}
```
_Response (404 - Not Found)_
```
{
  "message": "Data not found"
}
```
_Response (500 - Bad Request)_
```
{
  "message": "Internal Server Error"
}
```
## Endpoints for Category
### GET /categories

> Get all categories list

_Request Headers_
```
{
  "access_token": "<user access token>"
}
```

_Request Body_
```
not needed
```

_Response (200 - OK)_
```
[
  {
    "id": 18,
    "name": "sepatu",
    "UserId": 1,
    "createdAt": "2021-01-23T05:33:43.662Z",
    "updatedAt": "2021-01-23T05:33:43.662Z",
    "Products": [
      {
        "id": 26,
        "name": "Adidas",
        "image_url": "https://assets.adidas.com/images/w_320,f_auto,q_auto:sensitive,fl_lossy/69721f2e7c934d909168a80e00818569_9366/Stan_Smith_Shoes_White_M20324_01_standard.jpg",
        "price": 3000000,
        "stock": 12,
        "description": "Ini ternyata sepatu adidas",
        "UserId": 1,
        "CategoryId": 18,
        "createdAt": "2021-01-23T07:12:28.569Z",
        "updatedAt": "2021-01-23T07:22:23.113Z"
      },
      {
        "id": 25,
        "name": "Nike",
        "image_url": "https://assets.adidas.com/images/w_320,f_auto,q_auto:sensitive,fl_lossy/69721f2e7c934d909168a80e00818569_9366/Stan_Smith_Shoes_White_M20324_01_standard.jpg",
        "price": 100000,
        "stock": 10,
        "description": "Ini sepatu mantap",
        "UserId": 1,
        "CategoryId": 18,
        "createdAt": "2021-01-23T07:12:01.932Z",
        "updatedAt": "2021-01-23T07:12:01.932Z"
      }
    ]
  }
]
```
_Response (400 - Bad Request)_
```
{
  "message": [
    "jwt must be provided"
  ]
}
```

_Response (500 - Bad Request)_
```
{
  "message": "Internal Server Error"
}
```
---
### POST /categories

> Create new category

_Request Headers_
```
{
  "access_token": "<user access token>"
}
```

_Request Body_
```
{
  "name": "Sepatu"
}
```

_Response (201 - Created)_
```
{
  "id": 23,
  "name": "sepatu",
  "UserId": 1,
  "updatedAt": "2021-01-23T07:29:34.185Z",
  "createdAt": "2021-01-23T07:29:34.185Z"
}
```

_Response (400 - Bad Request)_
```
{
  "message": [
    "jwt must be provided",
    "Category Name must be filled",
    "Category name must be unique"
  ]
}
```
_Response (500 - Bad Request)_
```
{
  "message": "Internal Server Error"
}
```
---
### DELETE /categories/:id

> Delete task

_Request Headers_
```
{
  "access_token": "<user access token>"
}
```

_Request Params_
```
id = [integer]
```
_Request Body_
```
not needed
```

_Response (200 - OK)_
```
{
  "message": "Success delete category"
}
```
_Response (400 - Bad Request)_
```
{
  "message": [
    "jwt must be provided"
  ]
}
```
_Response (401 - Unauthorized)_
```
{
  "message": "User not authorized"
}
```
_Response (404 - Not Found)_
```
{
  "message": "Data not found"
}
```
_Response (500 - Bad Request)_
```
{
  "message": "Internal Server Error"
}
```
## Endpoints for Banner
### GET /banners

> Get all banners list

_Request Headers_
```
{
  "access_token": "<user access token>"
}
```

_Request Body_
```
not needed
```

_Response (200 - OK)_
```
[
  {
    "id": 3,
    "title": "Banner 2",
    "status": true,
    "image_url": "https://ecs7-p.tokopedia.net/img/cache/1208/NsjrJu/2021/1/19/01a3786a-0c1a-4fe3-add4-ea4a93c47b00.jpg.webp",
    "UserId": 1,
    "createdAt": "2021-01-23T07:34:04.783Z",
    "updatedAt": "2021-01-23T07:34:04.783Z"
  },
  {
    "id": 1,
    "title": "Promo apa aja",
    "status": false,
    "image_url": "https://ecs7-p.tokopedia.net/img/cache/1208/NsjrJu/2021/1/22/94270c72-80ae-4059-a68a-e113586e567c.jpg.webp",
    "UserId": 1,
    "createdAt": "2021-01-23T04:25:32.627Z",
    "updatedAt": "2021-01-23T05:31:43.625Z"
  }
]
```
_Response (400 - Bad Request)_
```
{
  "message": [
    "jwt must be provided"
  ]
}
```

_Response (500 - Bad Request)_
```
{
  "message": "Internal Server Error"
}
```
---
### POST /banners

> Create new category

_Request Headers_
```
{
  "access_token": "<user access token>"
}
```

_Request Body_
```
{
  "title": "Banner 2",
  "status": true,
  "image_url": "https://ecs7-p.tokopedia.net/img/cache/1208/NsjrJu/2021/1/19/01a3786a-0c1a-4fe3-add4-ea4a93c47b00.jpg.webp"
}
```

_Response (201 - Created)_
```
{
  "id": 4,
  "title": "Banner 2",
  "status": true,
  "image_url": "https://ecs7-p.tokopedia.net/img/cache/1208/NsjrJu/2021/1/19/01a3786a-0c1a-4fe3-add4-ea4a93c47b00.jpg.webp",
  "UserId": 1,
  "updatedAt": "2021-01-23T07:37:27.160Z",
  "createdAt": "2021-01-23T07:37:27.160Z"
}
```

_Response (400 - Bad Request)_
```
{
  "message": [
    "jwt must be provided",
    "Status must be filled by true/false",
    "Title must be filled",
    "Status must be filled",
    "Image url must be filled"
  ]
}
```
_Response (500 - Bad Request)_
```
{
  "message": "Internal Server Error"
}
```
---
### PATCH /banners/:id

> Edit task value

_Request Headers_
```
{
  "access_token": "<user access token>"
}
```

_Request Params_
```
id = [integer]
```
_Request Body_
```
{
  "status": "false",
}
```

_Response (200 - OK)_
```
{
    "id": 4,
    "title": "Banner 2",
    "status": false,
    "image_url": "https://ecs7-p.tokopedia.net/img/cache/1208/NsjrJu/2021/1/19/01a3786a-0c1a-4fe3-add4-ea4a93c47b00.jpg.webp",
    "UserId": 1,
    "createdAt": "2021-01-23T07:37:27.160Z",
    "updatedAt": "2021-01-23T07:42:38.540Z"
}
```
_Response (401 - Unauthorized)_
```
{
  "message": "User not authorized"
}
```

_Response (400 - Bad Request)_
```
{
  "message": [
    "jwt must be provided",
    "Status must be filled by true/false",
    "Status must be filled"
  ]
}
```
_Response (404 - Not Found)_
```
{
  "message": "Data not found"
}
```
_Response (500 - Bad Request)_
```
{
  "message": "Internal Server Error"
}
```
---
### DELETE /banners/:id

> Delete task

_Request Headers_
```
{
  "access_token": "<user access token>"
}
```

_Request Params_
```
id = [integer]
```
_Request Body_
```
not needed
```

_Response (200 - OK)_
```
{
  message: "Success delete banner"
}
```
_Response (400 - Bad Request)_
```
{
  "message": [
    "jwt must be provided"
  ]
}
```
_Response (401 - Unauthorized)_
```
{
  "message": "User not authorized"
}
```
_Response (404 - Not Found)_
```
{
  "message": "Data not found"
}
```
_Response (500 - Bad Request)_
```
{
  "message": "Internal Server Error"
}
